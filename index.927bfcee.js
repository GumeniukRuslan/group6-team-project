!function(){function e(e){return e&&e.__esModule?e.default:e}var n="undefined"!=typeof globalThis?globalThis:"undefined"!=typeof self?self:"undefined"!=typeof window?window:"undefined"!=typeof global?global:{},t={},o={},r=n.parcelRequired7c6;null==r&&((r=function(e){if(e in t)return t[e].exports;if(e in o){var n=o[e];delete o[e];var r={id:e,exports:{}};return t[e]=r,n.call(r.exports,r,r.exports),r.exports}var a=new Error("Cannot find module '"+e+"'");throw a.code="MODULE_NOT_FOUND",a}).register=function(e,n){o[e]=n},n.parcelRequired7c6=r),r("iE7OH").register(JSON.parse('{"EVgbq":"index.927bfcee.js","6Hg8L":"sample.eaf37d8e.png","aaLHb":"amazon.8e8667c1.png","5yJ2I":"book1.8d01f172.png","kAnhc":"book2.b226e49c.png","410VS":"icons.7429e8d9.svg","cfiU8":"index.64bebbd7.js"}')),r("9EY00"),r("gjDBM"),r("iNWLi");var a=r("bpxeT"),s=r("2TvXO"),c=r("laqZe"),i=r("9EY00"),l=function(e){return e.map((function(e){var n=e.list_name;return'<li class="categories__item" data-category="'.concat(n,'">').concat(n,"</li>")})).join("")};function d(){return(d=e(a)(e(s).mark((function n(){var t;return e(s).wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,(0,c.getCategoryList)();case 3:t=e.sent,i.refs.allCategoriesList.insertAdjacentHTML("beforeend",l(t)),e.next=10;break;case 7:e.prev=7,e.t0=e.catch(0),console.log(e.t0);case 10:case"end":return e.stop()}}),n,null,[[0,7]])})))).apply(this,arguments)}window.addEventListener("load",(function(){return d.apply(this,arguments)})),r("iSHBX");var u;a=r("bpxeT"),s=r("2TvXO"),c=r("laqZe"),i=r("9EY00");u=r("aNJCr").getBundleURL("EVgbq")+r("iE7OH").resolve("6Hg8L");var v,f=function(n){return n.map((function(n){var t=n._id,o=n.book_image,r=n.title,a=n.author;return'<li class="card" data-book="'.concat(t,'">\n        <div class="card__thumb">\n            <img src="').concat(o||e(u),'" loading="lazy" alt="').concat(r,'" class="card__img">\n            <div class="card__text">\n                <p class="card__text-inner">quick view</p>\n            </div>\n        </div>\n        <h3 class="card__title">').concat(r,'</h3>\n        <h4 class="card__author">').concat(a,"</h4>\n    </li>")})).join("")},p=(i=r("9EY00"),function(e){var n=e.split(" "),t=n[n.length-1],o=n.slice(0,-1).join(" ");i.refs.categoryTitle.innerHTML="".concat(o,' <span class="books__title-last">').concat(t,"</span>")}),b=r("bi3nC"),g=r("3sQwF"),k=(v=e(a)(e(s).mark((function n(){var t;return e(s).wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return(0,b.startLoading)(),p("Best sellers books"),e.prev=2,e.next=5,(0,c.getTopBooks)();case 5:t=e.sent,i.refs.booksHandler.innerHTML=t.map((function(e){var n=e.list_name,t=e.books;return'<div class="category" data-category="'.concat(n,'">\n        <h2 class="category__title">').concat(n,'</h2>\n        <ul class="category__list">\n            ').concat(f(t),'\n        </ul>\n        <button class="btn--violet category__btn" data-category="').concat(n,'">see more</button>\n        </div>')})).join(""),e.next=12;break;case 9:e.prev=9,e.t0=e.catch(2),i.refs.booksHandler.innerHTML=(0,g.renderError)("Something went wrong...");case 12:(0,b.removeLoading)();case 13:case"end":return e.stop()}}),n,null,[[2,9]])}))),function(){return v.apply(this,arguments)});i.refs.booksHandler&&window.addEventListener("load",k);i=r("9EY00");var m=function(){window.scroll({top:0,behavior:"smooth"})};new IntersectionObserver((function(e){e.forEach((function(e){e.isIntersecting?i.refs.scrollTopBtn.classList.add("hidden"):i.refs.scrollTopBtn.classList.remove("hidden")}))})).observe(i.refs.scrollTopTarget),i.refs.scrollTopBtn.addEventListener("click",m),r("56px5");a=r("bpxeT"),s=r("2TvXO"),i=r("9EY00"),c=r("laqZe"),b=r("bi3nC"),g=r("3sQwF");var _=function(e){document.querySelector(".active-category").classList.remove("active-category"),document.querySelectorAll(".categories__item").forEach((function(n){n.dataset.category===e&&n.classList.add("active-category")}))},L=function(){var n=e(a)(e(s).mark((function n(t){var o,r;return e(s).wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if("BUTTON"===t.target.nodeName||"LI"===t.target.nodeName){e.next=2;break}return e.abrupt("return");case 2:if(o=t.target.dataset.category,_(o),"all"!==o){e.next=7;break}return k(),e.abrupt("return");case 7:return(0,b.startLoading)(),e.prev=8,p(o),e.next=12,(0,c.getBooksOfCertainCategory)(o);case 12:r=e.sent,i.refs.booksHandler.innerHTML='<ul class="books__list">'.concat(f(r),"</ul>"),m(),e.next=20;break;case 17:e.prev=17,e.t0=e.catch(8),i.refs.booksHandler.innerHTML=(0,g.renderError)("Something went wrong...");case 20:(0,b.removeLoading)();case 21:case"end":return e.stop()}}),n,null,[[8,17]])})));return function(e){return n.apply(this,arguments)}}();i.refs.booksHandler.addEventListener("click",L),i.refs.allCategoriesList.addEventListener("click",L);i=r("9EY00"),i=r("9EY00");var h=r("iNWLi");function E(e){if(e.target.classList.contains("btn-add-list"))try{(0,h.addToShopList)(e),console.log("hooray")}catch(e){console.log(e)}}r("9EY00");h=r("iNWLi");function y(e){if(e.target.classList.contains("btn-remove-list"))try{(0,h.rmvFrmShopList)(e)}catch(e){console.log(e)}}function w(e){"Escape"===e.code&&(i.refs.backdrop.classList.add("is-hidden"),i.refs.backdrop.removeEventListener("click",y),i.refs.backdrop.removeEventListener("click",E),i.refs.backdrop.removeEventListener("click",T),window.removeEventListener("keydown",w))}var H=function(e){"Escape"===e.code&&x(e)};function T(e){(e.target.closest(".modal__btn-close")||e.target.classList.contains("backdrop"))&&(i.refs.backdrop.classList.add("is-hidden"),i.refs.backdrop.removeEventListener("click",y),i.refs.backdrop.removeEventListener("click",E),i.refs.backdrop.removeEventListener("click",T),window.removeEventListener("keydown",w))}var x=function(){document.querySelector(".modal-overlay.open .login__switch").removeEventListener("click",O);var e=document.querySelector(".modal-overlay.open");e.classList.remove("open"),document.body.classList.remove("lock"),e.removeEventListener("click",S),e.removeEventListener("click",N),e.addEventListener("keydown",H)},S=function(e){e.target.closest("button")&&e.target.closest("button").classList.contains("modal__close")&&x(e)},N=function(e){e.target===e.currentTarget&&e.target.classList.contains("modal-overlay")&&x(e)};i=r("9EY00");r("jCI1E");var q=function(e){e.classList.add("open"),document.body.classList.add("lock"),e.addEventListener("click",S),e.addEventListener("click",N),window.addEventListener("keydown",H),document.querySelector(".modal-overlay.open .login__switch").addEventListener("click",O)};function B(e){if("BUTTON"===e.target.nodeName){console.log("fork");var n,t=e.target.dataset.login;if("sign-up"===t)n=i.refs.signUpModal;else{if("sign-in"!==t)return;n=i.refs.signInModal}q(n)}}function O(e){if(e.target.dataset.login&&!e.target.classList.contains("active-label")){x();var n=e.target.dataset.login;q(document.querySelector(".js-".concat(n)))}}i.refs.elmsNonAuth&&i.refs.elmsNonAuth.forEach((function(e){return e.addEventListener("click",B)})),r("jCI1E");var C;a=r("bpxeT"),s=r("2TvXO"),i=r("9EY00"),c=r("laqZe");C=r("aNJCr").getBundleURL("EVgbq")+r("iE7OH").resolve("aaLHb");var R;R=r("aNJCr").getBundleURL("EVgbq")+r("iE7OH").resolve("5yJ2I");var A;A=r("aNJCr").getBundleURL("EVgbq")+r("iE7OH").resolve("kAnhc");var M;M=r("aNJCr").getBundleURL("EVgbq")+r("iE7OH").resolve("410VS"),r("iNWLi");b=r("bi3nC"),g=r("3sQwF");r("iNWLi");var F=function(){var n=e(a)(e(s).mark((function n(t){var o,r;return e(s).wrap((function(n){for(;;)switch(n.prev=n.next){case 0:if(t.target.closest(".card")){n.next=2;break}return n.abrupt("return");case 2:return i.refs.backdrop.innerHTML="",i.refs.backdrop.classList.remove("is-hidden"),(0,b.startLoading)(),o=t.target.closest(".card").dataset.book,n.prev=6,n.next=9,(0,c.getOneBookById)(o);case 9:r=n.sent,i.refs.backdrop.innerHTML=(s=void 0,l=void 0,d=void 0,v=void 0,f=void 0,p=void 0,k=void 0,m=void 0,_=void 0,s=(a=r)._id,l=a.book_image,d=a.title,v=a.author,f=a.description,p=a.amazon_product_url,k=a.buy_links,m=k.filter((function(e){return"Apple Books"===e.name})),_=k.filter((function(e){return"Bookshop"===e.name})),'<div class="modal-book">\n  <button class="modal-book__close" type="button" data-modal-close>\n    <svg class="modal-book__close-icon" width="24" height="24">\n      <use href="'.concat(e(M),'#icon-close"></use>\n    </svg>\n  </button>\n  <div class="modal-book__content" data-book="').concat(s,'">\n      <div class="modal-book--flex">\n          <div class="modal-book__thumb">\n              <img class="modal-book__img" src="').concat(l||e(u),'" alt="aaa" loading="lazy">\n          </div>\n          <div class="modal-book__text">\n              <h2 class="modal-book__title">').concat(d,'</h2>\n              <p class="modal-book__author">').concat(v,'</p>\n              <p class="modal-book__description">').concat(f||"Unfortunately, there is no description",'</p>\n              <ul class="modal-book__links">\n                <li><a target="_blank" rel="noopener noreferrer" href="').concat(p,'">\n                  <img class="amazon" src="').concat(e(C),'" alt="amazon-logo"></a></li>\n                <li><a target="_blank" rel="noopener noreferrer" href="').concat(m,'">\n                  <img class="book-first"src="').concat(e(R),'" alt=""></a></li>\n                <li><a target="_blank" rel="noopener noreferrer" href="').concat(_,'">\n                  <img class="book-second"src="').concat(e(A),'" alt=""></a></li>\n              </ul>\n          </div>\n      </div>\n      <div class="modal-book__btns">\n          <button class="btn--violet modal-book__btn" type="button">remove from the shopping list</button>\n          <p class="modal-book__notification">\n            Congratulations! You have added the book to the shopping list. To delete, press the button “Remove from the shopping list”.\n          </p>\n      </div>\n  </div>\n</div>')),n.next=16;break;case 13:n.prev=13,n.t0=n.catch(6),i.refs.backdrop.innerHTML=(0,g.renderError)("This page is empty, add some books and proceed to order.");case 16:i.refs.backdrop.addEventListener("click",E),i.refs.backdrop.addEventListener("click",y),i.refs.backdrop.addEventListener("click",T),window.addEventListener("keydown",w),(0,b.removeLoading)();case 21:case"end":return n.stop()}var a,s,l,d,v,f,p,k,m,_}),n,null,[[6,13]])})));return function(e){return n.apply(this,arguments)}}();i.refs.booksHandler.addEventListener("click",F)}();
//# sourceMappingURL=index.927bfcee.js.map
