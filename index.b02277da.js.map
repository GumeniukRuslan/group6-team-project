{"mappings":"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","sources":["node_modules/@parcel/runtime-js/lib/runtime-bc5129132b2c1136.js","src/index.js","src/js/render/renderAllCategories.js","src/js/topBooks.js","node_modules/@parcel/runtime-js/lib/runtime-b538721a2078ac72.js","src/js/render/renderBookCard.js","src/js/render/renderCategoryTitle.js","src/js/render/renderTopCategories.js","src/js/scrollToTop.js","src/js/categoryBooks.js"],"sourcesContent":["require('./helpers/bundle-manifest').register(JSON.parse(\"{\\\"EVgbq\\\":\\\"index.b02277da.js\\\",\\\"6Hg8L\\\":\\\"sample.eaf37d8e.png\\\",\\\"ge42F\\\":\\\"index.4e81f672.js\\\"}\"));","import './js/components/refs';\nimport './js/mobileMenu';\nimport './js/firebase';\nimport './js/render/renderAllCategories';\nimport './js/createSupportList';\nimport './js/topBooks';\nimport './js/scrollToTop';\nimport './js/components/support-funds';\nimport './js/categoryBooks';\n\n","import { getCategoryList } from '../api/fetchLogic';\nimport { refs } from '../components/refs';\n\nconst renderAllCategories = data => {\n  const categories = data\n    .map(({ list_name }) => {\n      return `<li class=\"categories__item\">${list_name}</li>`;\n    })\n    .join('');\n  return categories;\n};\n\nasync function createAllCategories() {\n  try {\n    const allCategories = await getCategoryList();\n    refs.allCategoriesList.insertAdjacentHTML(\n      'beforeend',\n      renderAllCategories(allCategories)\n    );\n  } catch (error) {\n    console.log(error);\n  }\n}\nwindow.addEventListener('load', createAllCategories);\n\n// import { getCategoryList } from '../api/fetchLogic';\n// import { refs } from '../components/refs';\n\n// function renderAllCategories(data) {}\n\n// async function createAllCategories() {\n//   try {\n//     const allCategories = '';\n//   } catch (error) {\n//     console.log(error);\n//   }\n// }\n\n// во-первых тебе не нужна переменная с массивом объектов, ты получаешь его через функцию которую я тебе импортировал вверху, это ассинхронная функция\n// во-вторых вот это const ul = document.querySelector('.allCategories__list'); должно быть в файле refs который тоже надо импортировать, уже сделал,\n//обращаешься к этому списку череpз refs.allCategoriesList\n//вверху функция названная renderAllCategories в ней тебе просто надо написать логику как например в файле renderBookCard\n//после в функции createAllCategories в allCategories ты должен записать вызов функции getCategoryList со словом await\n//и после вставить с помощью метода insertAdjacentHTML резульатат\n// ну и потом надо решаить как фунцию вызвать, покликай по примерам в других файлах, вообще эти две функции можно было бы разюбить на два файла но тут уж сам глянь\n","import { getTopBooks } from \"./api/fetchLogic\";\nimport { refs } from \"./components/refs\";\nimport { renderTopCategories} from \"./render/renderTopCategories\";\nimport { renderCategoryTitle } from \"./render/renderCategoryTitle\";\nimport { removeLoading, startLoading } from \"./helpers/spinner\";\nimport { renderError } from \"./render/renderError\";\n\nconst createTopBooks = async () => {\n    startLoading();\n    renderCategoryTitle(`Best sellers books`);\n    try {\n        const books = await getTopBooks();\n        refs.booksHandler.innerHTML = renderTopCategories(books);\n    } catch (e) {\n        refs.booksHandler.innerHTML = renderError(`Something went wrong...`);\n    }\n    removeLoading();\n}\n\nif (refs.booksHandler) {\n    window.addEventListener(\"load\", createTopBooks);\n}","module.exports = require('./helpers/bundle-url').getBundleURL('EVgbq') + require('./helpers/bundle-manifest').resolve(\"6Hg8L\");","export const renderBookCard = (data) => {\n    const sample = new URL('../../images/sample.png', import.meta.url);\n    const books = data.map(({ _id, book_image, title, author }) => {\n        return `<li class=\"card\" data-book=\"${_id}\">\n        <div class=\"card__thumb\">\n            <img src=\"${book_image ? book_image : sample}\" loading=\"lazy\" alt=\"${title}\" class=\"card__img\">\n            <div class=\"card__text\">\n                <p class=\"card__text-inner\">quick view</p>\n            </div>\n        </div>\n        <h3 class=\"card__title\">${title}</h3>\n        <h4 class=\"card__author\">${author}</h4>\n    </li>`\n    }).join(\"\");\n    return books;\n}\n","import { refs } from \"../components/refs\";\n\nexport const renderCategoryTitle = (title) => {\n    const arrayOfWords = title.split(\" \");\n    const lastWord = arrayOfWords[arrayOfWords.length - 1];\n    const allExceptLastWord = arrayOfWords.slice(0, -1).join(\" \");\n\n    refs.categoryTitle.innerHTML = `${allExceptLastWord} <span class=\"books__title-last\">${lastWord}</span>`;\n}","import { renderBookCard } from \"./renderBookCard\";\n\nexport const renderTopCategories = (data) => {\n    const categories = data.map(({ list_name, books }) => {\n        return `<div class=\"category\" data-category=\"${list_name}\">\n        <h2 class=\"category__title\">${list_name}</h2>\n        <ul class=\"category__list\">\n            ${renderBookCard(books)}\n        </ul>\n        <button class=\"btn--violet category__btn\" data-category=\"${list_name}\">see more</button>\n        </div>`\n    }).join(\"\");\n    return categories;\n} ","import { refs } from \"./components/refs\";\n\nconst observeTop = (entries) => {\n    entries.forEach(entry => {\n        if (!entry.isIntersecting) {\n            refs.scrollTopBtn.classList.remove('hidden');\n        } else {\n            refs.scrollTopBtn.classList.add('hidden');\n        }\n    });\n} \n\nexport const scrollToTop = () => {\n    window.scroll({\n        top: 0,\n        behavior: 'smooth',\n    });\n}\n\nconst toTopObserver = new IntersectionObserver(observeTop);\n\ntoTopObserver.observe(refs.scrollTopTarget);\nrefs.scrollTopBtn.addEventListener(\"click\", scrollToTop)","import { refs } from \"./components/refs\";\nimport { getBooksOfCertainCategory } from \"./api/fetchLogic\";\nimport { removeLoading, startLoading } from \"./helpers/spinner\";\nimport { renderError } from \"./render/renderError\";\nimport { renderCategoryTitle } from \"./render/renderCategoryTitle\";\nimport { renderBookCard } from \"./render/renderBookCard\";\nimport { scrollToTop } from \"./scrollToTop\";\n\nconst createCategoryBooks = async (event) => {\n    // && li \n    if (event.target.nodeName !== 'BUTTON') {\n        return;\n    }\n    startLoading();\n    const category = event.target.dataset.category;\n    try {\n        const categoryList = await getBooksOfCertainCategory(category);\n        renderCategoryTitle(category);\n        refs.booksHandler.innerHTML = `<ul class=\"books__list\">${renderBookCard(categoryList)}</ul>`;\n        scrollToTop();\n    } catch (e) {\n        refs.booksHandler.innerHTML = renderError(`Something went wrong...`);\n    }\n    removeLoading();\n}\n\nrefs.booksHandler.addEventListener(\"click\", createCategoryBooks)"],"names":["parcelRequire","register","JSON","parse","$bpxeT","$9270db3bbfa637e6$var$renderAllCategories","data","map","param","list_name","concat","join","$9270db3bbfa637e6$var$_createAllCategories","$parcel$interopDefault","$2TvXO","mark","_callee","allCategories","$laqZe","getCategoryList","_ctx","sent","$9EY00","refs","allCategoriesList","insertAdjacentHTML","console","log","t0","apply","this","arguments","window","addEventListener","$a72193d3d9951866$exports","getBundleURL","resolve","$075e015418971766$export$7ad7812518320979","sample","URL","_id","book_image","title","author","$95d088b2c1cded33$export$c2a58a501338b2e1","arrayOfWords","split","lastWord","length","allExceptLastWord","slice","categoryTitle","innerHTML","$b9d02116228d5733$var$createTopBooks","books","$bi3nC","startLoading","getTopBooks","booksHandler","$3sQwF","renderError","removeLoading","$88f15ab57abe0359$export$f5d3771428a1f489","scroll","top","behavior","IntersectionObserver","entries","forEach","entry","isIntersecting","scrollTopBtn","classList","add","remove","observe","scrollTopTarget","$63a674f9d7c798a1$var$createCategoryBooks","event","category","categoryList","target","nodeName","dataset","getBooksOfCertainCategory"],"version":3,"file":"index.b02277da.js.map"}