{"mappings":"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","sources":["node_modules/@parcel/runtime-js/lib/runtime-bc5129132b2c1136.js","src/index.js","src/js/mobileMenu.js","src/js/topBooks.js","node_modules/@parcel/runtime-js/lib/runtime-b538721a2078ac72.js","src/js/render/renderBookCard.js","src/js/render/renderTopCategories.js","src/js/render/renderCategoryTitle.js","src/js/scrollToTop.js"],"sourcesContent":["require('./helpers/bundle-manifest').register(JSON.parse(\"{\\\"EVgbq\\\":\\\"index.29be09a0.js\\\",\\\"6Hg8L\\\":\\\"sample.eaf37d8e.png\\\",\\\"ge42F\\\":\\\"index.c32e7a39.js\\\"}\"));","\nimport './js/components/refs';\nimport './js/mobileMenu';\nimport './js/topBooks';\nimport './js/scrollToTop';\n","import { refs } from './components/refs';\n\nconsole.log(refs.mobileMenu);\nconsole.log(refs.burger);\n\nrefs.burger.addEventListener('click', toggleMenu);\n\nfunction toggleMenu() {\n  if (refs.mobileMenu.classList.contains('showMenu')) {\n    refs.mobileMenu.classList.remove('showMenu');\n\n    refs.burgerCloseIcon.classList.add('hideButton');\n    refs.burgerCloseIcon.classList.remove('showButton');\n\n    refs.burgerMenuIcon.classList.add('showButton');\n    refs.burgerMenuIcon.classList.remove('hideButton');\n  } else {\n    refs.mobileMenu.classList.add('showMenu');\n\n    refs.burgerCloseIcon.classList.add('showButton');\n    refs.burgerCloseIcon.classList.remove('hideButton');\n\n    refs.burgerMenuIcon.classList.add('hideButton');\n    refs.burgerMenuIcon.classList.remove('showButton');\n  }\n}\n\nwindow.matchMedia('(min-width: 768px)').addEventListener('change', e => {\n  if (!e.matches) return;\n  refs.mobileMenu.classList.remove('showMenu');\n\n  refs.burgerCloseIcon.classList.add('hideButton');\n  refs.burgerCloseIcon.classList.remove('showButton');\n\n  refs.burgerMenuIcon.classList.add('showButton');\n  refs.burgerMenuIcon.classList.remove('hideButton');\n});\n","import { getTopBooks } from \"./api/fetchLogic\";\nimport { refs } from \"./components/refs\";\nimport { renderTopCategories} from \"./render/renderTopCategories\";\nimport { renderCategoryTitle } from \"./render/renderCategoryTitle\";\nimport { removeLoading, startLoading } from \"./helpers/spinner\";\nimport { renderError } from \"./render/renderError\";\n\nconst createTopBooks = async () => {\n    startLoading();\n    renderCategoryTitle(`Best sellers books`);\n    try {\n        const books = await getTopBooks();\n        refs.booksHandler.innerHTML = renderTopCategories(books);\n    } catch (e) {\n        refs.booksHandler.innerHTML = renderError();\n    }\n    removeLoading();\n}\n\nif (refs.booksHandler) {\n    window.addEventListener(\"load\", createTopBooks);\n}","module.exports = require('./helpers/bundle-url').getBundleURL('EVgbq') + require('./helpers/bundle-manifest').resolve(\"6Hg8L\");","export const renderBookCard = (data) => {\n    const sample = new URL('../../images/sample.png', import.meta.url);\n    const books = data.map(({ _id, book_image, title, author }) => {\n        return `<li class=\"card\" data-book=\"${_id}\">\n        <div class=\"card__thumb\">\n            <img src=\"${book_image ? book_image : sample}\" loading=\"lazy\" alt=\"${title}\" class=\"card__img\">\n            <div class=\"card__text\">\n                <p class=\"card__text-inner\">quick view</p>\n            </div>\n        </div>\n        <h3 class=\"card__title\">${title}</h3>\n        <h4 class=\"card__author\">${author}</h4>\n    </li>`\n    }).join(\"\");\n    return books;\n}\n","import { renderBookCard } from \"./renderBookCard\";\n\nexport const renderTopCategories = (data) => {\n    const categories = data.map(({ list_name, books }) => {\n        return `<div class=\"category\" data-category=\"${list_name}\">\n        <h2 class=\"category__title\">${list_name}</h2>\n        <ul class=\"category__list\">\n            ${renderBookCard(books)}\n        </ul>\n        <button class=\"btn--violet category__btn\" data-category=\"${list_name}\">see more</button>\n        </div>`\n    }).join(\"\");\n    return categories;\n} ","import { refs } from \"../components/refs\";\n\nexport const renderCategoryTitle = (title) => {\n    const arrayOfWords = title.split(\" \");\n    const lastWord = arrayOfWords[arrayOfWords.length - 1];\n    const allExceptLastWord = arrayOfWords.slice(0, -1).join(\" \");\n\n    refs.categoryTitle.innerHTML = `${allExceptLastWord} <span class=\"books__title-last\">${lastWord}</span>`;\n}","import { refs } from \"./components/refs\";\n\nconst observeTop = (entries) => {\n    entries.forEach(entry => {\n        if (!entry.isIntersecting) {\n            refs.scrollTopBtn.classList.remove('hidden');\n        } else {\n            refs.scrollTopBtn.classList.add('hidden');\n        }\n    });\n} \n\nconst scrollToTop = () => {\n    window.scroll({\n        top: 0,\n        behavior: 'smooth',\n    });\n}\n\nconst toTopObserver = new IntersectionObserver(observeTop);\n\ntoTopObserver.observe(refs.scrollTopTarget);\nrefs.scrollTopBtn.addEventListener(\"click\", scrollToTop)"],"names":["parcelRequire","register","JSON","parse","$9EY00","console","log","refs","mobileMenu","burger","addEventListener","classList","contains","remove","burgerCloseIcon","add","burgerMenuIcon","window","matchMedia","e","matches","$bpxeT","$a72193d3d9951866$exports","getBundleURL","resolve","$075e015418971766$export$7ad7812518320979","data","sample","URL","map","param","_id","book_image","title","author","concat","join","$020d19a61b3d0047$export$ed26e1253db2deba","list_name","books","$b9d02116228d5733$var$createTopBooks","$parcel$interopDefault","$2TvXO","mark","_callee","$bi3nC","startLoading","arrayOfWords","lastWord","allExceptLastWord","split","length","slice","categoryTitle","innerHTML","$laqZe","getTopBooks","_ctx","sent","booksHandler","$3sQwF","renderError","removeLoading","IntersectionObserver","entries","forEach","entry","isIntersecting","scrollTopBtn","observe","scrollTopTarget","scroll","top","behavior"],"version":3,"file":"index.29be09a0.js.map"}