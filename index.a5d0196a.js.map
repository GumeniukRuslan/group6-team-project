{"mappings":"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","sources":["node_modules/@parcel/runtime-js/lib/runtime-531ee47fe782204c.js","src/index.js","src/js/render/renderAllCategories.js","src/js/topBooks.js","node_modules/@parcel/runtime-js/lib/runtime-aa3a2ea5ec1a6e9a.js","src/js/render/renderBookCard.js","src/js/render/renderCategoryTitle.js","src/js/render/renderTopCategories.js","src/js/categoryBooks.js","src/js/helpers/activeCategory.js","src/js/components/closeModalBtn.js","src/js/components/closeModalOnEsc.js","src/js/helpers/addBookToShopList.js","src/js/helpers/deleteBookFromModal.js","src/js/components/closeModalBackdrop.js","src/js/loginModals.js","src/js/createModal.js","node_modules/@parcel/runtime-js/lib/runtime-b72456753751e934.js","node_modules/@parcel/runtime-js/lib/runtime-115f991ac4da8c7a.js","node_modules/@parcel/runtime-js/lib/runtime-abddd7cb01b925d4.js","src/js/render/renderModal.js","node_modules/@parcel/runtime-js/lib/runtime-44e7bd74d9a8b620.js","src/js/helpers/modalHelpers.js"],"sourcesContent":["require('./helpers/bundle-manifest').register(JSON.parse(\"{\\\"5ZPII\\\":\\\"index.a5d0196a.js\\\",\\\"kx99P\\\":\\\"sample.eaf37d8e.png\\\",\\\"1yVwl\\\":\\\"amazon.8e8667c1.png\\\",\\\"4tfg6\\\":\\\"book1.8d01f172.png\\\",\\\"cv7CL\\\":\\\"book2.b226e49c.png\\\",\\\"8OQ7p\\\":\\\"icons.7429e8d9.svg\\\",\\\"4l2W5\\\":\\\"index.943974cd.js\\\"}\"));","import './js/components/refs';\nimport './js/mobileMenu';\nimport './js/firebase';\nimport './js/render/renderAllCategories';\nimport './js/createSupportList';\nimport './js/topBooks';\nimport './js/scrollToTop';\nimport './js/components/support-funds';\nimport './js/categoryBooks';\nimport './js/loginModals';\nimport './js/switch';\nimport './js/createModal';\nimport './js/render/renderModal';\nimport './js/render/dropdown';\nimport './js/components/swiper';\nimport './js/activePage';\nimport './js/teamModal';\nimport './js/createQuote';","import { getCategoryList } from '../api/fetchLogic';\nimport { refs } from '../components/refs';\n\nconst renderAllCategories = data => {\n  const categories = data\n    .map(({ list_name }) => {\n      return `<li class=\"categories__item\" data-category=\"${list_name}\">${list_name}</li>`;\n    })\n    .join('');\n  return categories;\n};\n\nasync function createAllCategories() {\n  try {\n    const allCategories = await getCategoryList();\n    refs.allCategoriesList.insertAdjacentHTML(\n      'beforeend',\n      renderAllCategories(allCategories)\n    );\n  } catch (error) {\n    console.log(error);\n  }\n}\nwindow.addEventListener('load', createAllCategories);","import { getTopBooks } from \"./api/fetchLogic\";\nimport { refs } from \"./components/refs\";\nimport { renderTopCategories} from \"./render/renderTopCategories\";\nimport { renderCategoryTitle } from \"./render/renderCategoryTitle\";\nimport { removeLoading, startLoading } from \"./helpers/spinner\";\nimport { renderError } from \"./render/renderError\";\n\nexport const createTopBooks = async () => {\n    startLoading();\n    renderCategoryTitle(`Best sellers books`);\n    try {\n        const books = await getTopBooks();\n        refs.booksHandler.innerHTML = renderTopCategories(books);\n    } catch (e) {\n        refs.booksHandler.innerHTML = renderError(`Something went wrong...`);\n    }\n    removeLoading();\n}\n\nif (refs.booksHandler) {\n    window.addEventListener(\"load\", createTopBooks);\n}","module.exports = new __parcel__URL__(require('./helpers/bundle-manifest').resolve(\"kx99P\")).toString();","import sample from '../../images/sample.png';\n\nexport const renderBookCard = data => {\n  const books = data\n    .map(({ _id, book_image, title, author }) => {\n      return `<li class=\"card\" data-book=\"${_id}\">\n        <div class=\"card__thumb\">\n            <img src=\"${\n              book_image ? book_image : sample\n            }\" loading=\"lazy\" alt=\"${title}\" class=\"card__img\" width=\"180\">\n            <div class=\"card__text\">\n                <p class=\"card__text-inner\">quick view</p>\n            </div>\n        </div>\n        <h3 class=\"card__title\">${title}</h3>\n        <h4 class=\"card__author\">${author}</h4>\n    </li>`;\n    })\n    .join('');\n  return books;\n};\n","import { refs } from \"../components/refs\";\n\nexport const renderCategoryTitle = (title) => {\n    const arrayOfWords = title.split(\" \");\n    const lastWord = arrayOfWords[arrayOfWords.length - 1];\n    const allExceptLastWord = arrayOfWords.slice(0, -1).join(\" \");\n\n    refs.categoryTitle.innerHTML = `${allExceptLastWord} <span class=\"books__title-last\">${lastWord}</span>`;\n}","import { renderBookCard } from \"./renderBookCard\";\n\nexport const renderTopCategories = (data) => {\n    const categories = data.map(({ list_name, books }) => {\n        return `<div class=\"category\" data-category=\"${list_name}\">\n        <h2 class=\"category__title\">${list_name}</h2>\n        <ul class=\"category__list\">\n            ${renderBookCard(books)}\n        </ul>\n        <button class=\"btn--violet category__btn\" data-category=\"${list_name}\">see more</button>\n        </div>`\n    }).join(\"\");\n    return categories;\n} ","import { refs } from './components/refs';\nimport { getBooksOfCertainCategory } from './api/fetchLogic';\nimport { removeLoading, startLoading } from './helpers/spinner';\nimport { renderError } from './render/renderError';\nimport { renderCategoryTitle } from './render/renderCategoryTitle';\nimport { renderBookCard } from './render/renderBookCard';\nimport { scrollToTop } from './scrollToTop';\nimport { createTopBooks } from './topBooks';\nimport { activeCategory } from './helpers/activeCategory';\n\nconst createCategoryBooks = async event => {\n if (event.target.nodeName !== 'BUTTON' && event.target.nodeName !== 'LI') {\n    return;\n  }\n  const category = event.target.dataset.category;\n  activeCategory(category);\n  if (category === 'all') {\n    createTopBooks();\n    return;\n  }\n  startLoading();\n  try {\n    renderCategoryTitle(category);\n    const categoryList = await getBooksOfCertainCategory(category);\n    refs.booksHandler.innerHTML = `<ul class=\"books__list\">${renderBookCard(\n      categoryList\n    )}</ul>`;\n    scrollToTop();\n  } catch (e) {\n    refs.booksHandler.innerHTML = renderError(`Something went wrong...`);\n  }\n  removeLoading();\n};\n\nrefs.booksHandler.addEventListener('click', createCategoryBooks);\nrefs.allCategoriesList.addEventListener('click', createCategoryBooks)\n","export const activeCategory = (category) => {\n    const formerActive = document.querySelector('.active-category');\n    formerActive.classList.remove('active-category');\n    document.querySelectorAll('.categories__item').forEach(item => {\n        if (item.dataset.category === category) {\n            item.classList.add('active-category');\n        }\n    })\n}","import { refs } from './refs';\nimport { onKeyDown, closeLoginModalEsc } from './closeModalOnEsc';\nimport { changeModal } from '../loginModals';\nimport {\n  closeLoginModalBackdrop,\n  closeModalBackdrop,\n} from './closeModalBackdrop';\n\nimport { addBookToShopList } from '../helpers/addBookToShopList';\n\nexport function closeModal() {\n  const closeBtn = document.querySelector('[data-modal-close]');\n  refs.backdrop.classList.add('is-hidden');\n  document.body.classList.remove('lock');\n  closeBtn.removeEventListener('click', closeModal);\n  refs.backdrop.removeEventListener('click', closeModalBackdrop);\n  window.removeEventListener('keydown', onKeyDown);\n  const btnShop = document.querySelector('.modal-book__btn');\n  if (btnShop.disabled === false) {\n    btnShop.removeEventListener('click', addBookToShopList);\n  }\n}\n\nexport const closeLoginModal = () => {\n  const switchModalBtns = document.querySelector(\n    '.modal-overlay.open .login__switch'\n  );\n  switchModalBtns.removeEventListener('click', changeModal);\n  const currentModal = document.querySelector('.modal-overlay.open');\n  currentModal.classList.remove('open');\n  document.body.classList.remove('lock');\n  currentModal.removeEventListener('click', closeLoginModalOnClick);\n  currentModal.removeEventListener('click', closeLoginModalBackdrop);\n  currentModal.addEventListener('keydown', closeLoginModalEsc);\n};\n\nexport const closeLoginModalOnClick = event => {\n  if (!event.target.closest('button')) {\n    return;\n  }\n  if (!event.target.closest('button').classList.contains('modal__close')) {\n    return;\n  }\n  closeLoginModal(event);\n};\n","import { refs } from './refs';\nimport { closeLoginModal, closeModal } from './closeModalBtn';\nimport { addBookToShopList } from '../helpers/addBookToShopList';\nimport { deleteBookFromModal } from '../helpers/deleteBookFromModal';\n\nexport function onKeyDown(evt) {\n  if (evt.code === 'Escape') {\n    refs.backdrop.classList.add('is-hidden');\n    document.body.classList.remove('lock');\n    refs.backdrop.removeEventListener('click', deleteBookFromModal);\n    refs.backdrop.removeEventListener('click', addBookToShopList);\n    refs.backdrop.removeEventListener('click', closeModal);\n    window.removeEventListener('keydown', onKeyDown);\n  }\n}\n\nexport const closeLoginModalEsc = event => {\n  if (event.code !== 'Escape') {\n    return;\n  } else {\n    closeLoginModal(event);\n  }\n};\n","import { addToShopList, rmvFrmShopList } from '../firebase';\n\nexport function addBookToShopList(evt) {\n  if (evt.target.nodeName !== 'BUTTON') {\n    return;\n  }\n  const btnsHolder = document.querySelector('.modal-book__btns');\n  if (evt.target.dataset.action === 'add') {\n    try {\n      addToShopList(evt);\n      evt.target.dataset.action = 'delete';\n      evt.target.ariaLabel = \"delete\";\n      evt.target.textContent = 'remove from shopping list'\n      btnsHolder.insertAdjacentHTML(\"beforeend\", `<p class=\"modal-book__notification\">\n      Congratulations! You have added the book to the shopping list. To delete, press the button “Remove from the shopping list”.\n    </p>`);\n    } catch (error) {\n      console.log(error);\n    }\n  } else if (evt.target.dataset.action === 'delete' ) {\n    try {\n      rmvFrmShopList(evt);\n      evt.target.dataset.action = 'add';\n      evt.target.ariaLabel = \"add\";\n      evt.target.textContent = 'add to the shopping list';\n      document.querySelector('.modal-book__notification').remove();\n    } catch (e) {\n      console.log(e);\n    }\n  }\n}\n","import { refs } from '../components/refs';\nimport { rmvFrmShopList } from '../firebase';\n\nexport function deleteBookFromModal(evt) {\n  if (evt.target.classList.contains('btn-remove-list')) {\n    try {\n      rmvFrmShopList(evt);\n    } catch (error) {\n      console.log(error);\n    }\n  }\n}\n","import { closeLoginModal, closeModal } from \"./closeModalBtn\";\n\nexport const closeLoginModalBackdrop = (event) => {\n    if (event.target === event.currentTarget && event.target.classList.contains('modal-overlay')) {\n      closeLoginModal(event);\n    }\n  }\n  \n  export const closeModalBackdrop = (event) => {\n    if (event.target === event.currentTarget) {\n      closeModal();\n    }\n}","import {\n  closeLoginModalOnClick,\n  closeLoginModal,\n} from './components/closeModalBtn';\nimport { closeLoginModalEsc } from './components/closeModalOnEsc';\nimport { refs } from './components/refs';\nimport { closeLoginModalBackdrop } from './components/closeModalBackdrop';\n\nconst openModal = currentModal => {\n  currentModal.classList.add('open');\n  document.body.classList.add('lock');\n  currentModal.addEventListener('click', closeLoginModalOnClick);\n  currentModal.addEventListener('click', closeLoginModalBackdrop);\n  window.addEventListener('keydown', closeLoginModalEsc);\n  const switchModalBtns = document.querySelector(\n    '.modal-overlay.open .login__switch'\n  );\n  switchModalBtns.addEventListener('click', changeModal);\n};\n\nfunction openLoginModal(event) {\n  if (event.target.nodeName !== 'BUTTON') {\n    return;\n  }\n  const currentModalData = event.target.dataset.login;\n  let currentModal;\n  if (currentModalData === 'sign-up') {\n    currentModal = refs.signUpModal;\n  } else if (currentModalData === 'sign-in') {\n    currentModal = refs.signInModal;\n  } else {\n    return;\n  }\n  openModal(currentModal);\n}\n\nif (refs.elmsNonAuth) {\n  refs.elmsNonAuth.forEach(btns => btns.addEventListener('click', openLoginModal));\n}\n\nexport function changeModal(event) {\n  if (!event.target.dataset.login) {\n    return;\n  }\n  if (event.target.classList.contains('active-label')) {\n    return;\n  }\n  closeLoginModal();\n  const newModal = event.target.dataset.login;\n  openModal(document.querySelector(`.js-${newModal}`));\n}\n","import { refs } from './components/refs';\nimport { getOneBookById } from './api/fetchLogic';\nimport { renderModal } from './render/renderModal';\nimport { LoaderBackdropStart, removeLoading, startLoading } from './helpers/spinner';\nimport { renderError } from './render/renderError';\nimport { closeModal } from './components/closeModalBtn';\nimport { onKeyDown } from './components/closeModalOnEsc';\nimport { closeModalBackdrop } from './components/closeModalBackdrop';\n\nimport { addBookToShopList } from './helpers/addBookToShopList';\n\nimport {\n  alreadyInShopList,\n  backendError,\n  cleanModal,\n  notInShopList,\n  unloggedUserShopList,\n} from './helpers/modalHelpers';\nimport { getBksFrmShpLst, userCurrent } from './firebase';\n\nexport const openModalBook = async id => {\n  LoaderBackdropStart();\n  const dataBook = await getOneBookById(id);\n  refs.backdrop.innerHTML = renderModal(dataBook);\n\n  const btns = document.querySelector('.modal-book__btns');\n  if (!userCurrent) {\n    btns.innerHTML = unloggedUserShopList();\n  } else {\n    try {\n      const booksInShopList = await getBksFrmShpLst();\n      if (booksInShopList && booksInShopList.includes(id)) {\n        btns.innerHTML = alreadyInShopList();\n      } else {\n        btns.innerHTML = notInShopList();\n      }\n    } catch (e) {\n      btns.innerHTML = backendError();\n    }\n  }\n  const btnClose = document.querySelector('[data-modal-close]');\n  btnClose.addEventListener('click', closeModal);\n  refs.backdrop.addEventListener('click', closeModalBackdrop);\n  document.body.classList.add('lock');\n  window.addEventListener('keydown', onKeyDown);\n\n  const btnShop = document.querySelector('.modal-book__btn');\n  if (btnShop.disabled === false) {\n    btnShop.addEventListener('click', addBookToShopList);\n  }\n  refs.backdrop.classList.remove('is-hidden');\n  removeLoading();\n};\n\nconst createModal = async evt => {\n  if (!evt.target.closest('.card')) {\n    removeLoading();\n    return;\n  }\n  cleanModal();\n\n  const bookId = evt.target.closest('.card').dataset.book;\n  try {\n    openModalBook(bookId);\n  } catch (e) {\n    refs.backdrop.innerHTML = renderError(`Something went wrong`);\n  }\n};\n\nif (refs.booksHandler) {\n  refs.booksHandler.addEventListener('click', createModal);\n}\n","module.exports = new __parcel__URL__(require('./helpers/bundle-manifest').resolve(\"1yVwl\")).toString();","module.exports = new __parcel__URL__(require('./helpers/bundle-manifest').resolve(\"4tfg6\")).toString();","module.exports = new __parcel__URL__(require('./helpers/bundle-manifest').resolve(\"cv7CL\")).toString();","import sample from '../../images/sample.png';\nimport amazon from '../../images/amazon.png';\nimport book1 from '../../images/book1.png';\nimport book2 from '../../images/book2.png';\nimport cross from '../../images/icons.svg';\n\nexport function renderModal({\n  _id,\n  book_image,\n  title,\n  author,\n  description,\n  amazon_product_url,\n  buy_links,\n}) {\n  const appleURL = buy_links.filter(obj => obj.name === 'Apple Books');\n  const bookShop = buy_links.filter(obj => obj.name === 'Bookshop');\n  return `<div class=\"modal-book\">\n  <button class=\"modal-book__close\" type=\"button\" data-modal-close>\n    <svg class=\"modal-book__close-icon\" width=\"24\" height=\"24\">\n      <use href=\"${cross}#icon-close\"></use>\n    </svg>\n  </button>\n  <div class=\"modal-book__content\" data-book=\"${_id}\">\n      <div class=\"modal-book--flex\">\n          <div class=\"modal-book__thumb\">\n              <img class=\"modal-book__img\" src=\"${\n                book_image ? book_image : sample\n              }\" alt=\"${title}\" loading=\"lazy\" width=\"192\">\n          </div>\n          <div class=\"modal-book__text\">\n              <h2 class=\"modal-book__title\">${title}</h2>\n              <p class=\"modal-book__author\">${author}</p>\n              <p class=\"modal-book__description\">${\n                description\n                  ? description\n                  : `Unfortunately, there is no description.`\n              }</p>\n              <ul class=\"modal-book__links\">\n                <li><a target=\"_blank\" rel=\"noopener noreferrer\" href=\"${amazon_product_url}\" class=\"modal-book__link\">\n                  <img class=\"amazon\" src=\"${amazon}\" alt=\"amazon-logo\" width=\"62\"></a></li>\n                <li><a target=\"_blank\" rel=\"noopener noreferrer\" href=\"${\n                  appleURL[0].url\n                }\" class=\"modal-book__link\">\n                  <img class=\"book-first\"src=\"${book1}\" alt=\"apple-shop\" width=\"33\"></a></li>\n                <li><a target=\"_blank\" rel=\"noopener noreferrer\" href=\"${\n                  bookShop[0].url\n                }\" class=\"modal-book__link\">\n                  <img class=\"book-second\"src=\"${book2}\" alt=\"bookskop\" width=\"38\"></a></li>\n              </ul>\n          </div>\n      </div>\n      <div class=\"modal-book__btns\"></div>\n    </div>\n</div>`;\n}\n","module.exports = new __parcel__URL__(require('./helpers/bundle-manifest').resolve(\"8OQ7p\")).toString();","import { refs } from \"../components/refs\";\n\nexport const cleanModal = () => {\n    refs.backdrop.innerHTML = '';\n}\n\nexport const alreadyInShopList = () => {\n    return `<button class=\"btn--violet modal-book__btn\" type=\"button\" data-action=\"delete\" aria-label=\"delete\">remove from the shopping list</button>\n    <p class=\"modal-book__notification\">\n      Congratulations! You have added the book to the shopping list. To delete, press the button “Remove from the shopping list”.\n    </p>`\n}\n\nexport const notInShopList = () => {\n    return '<button class=\"btn--violet modal-book__btn\" type=\"button\" data-action=\"add\" aria-label=\"add\">add to shopping list</button>';\n}\n\nexport const unloggedUserShopList = () => {\n    return `<button class=\"btn--violet modal-book__btn\" type=\"button\" disabled>add to shopping list</button>\n    <p class=\"modal-book__notification\">\n     You need to sign in to be able to add books to your shopping list.\n    </p>`;\n}\n\nexport const backendError = () => {\n    return `<button class=\"btn--violet modal-book__btn\" type=\"button\" disabled>add to shopping list</button>\n    <p class=\"modal-book__notification\">\n     Something went wrong.\n    </p>`;\n}"],"names":["parcelRequire","register","JSON","parse","$2e5nt","window","addEventListener","async","allCategories","getCategoryList","$fAODQ","refs","allCategoriesList","insertAdjacentHTML","map","list_name","join","error","console","log","$62afbf5ea11da203$exports","URL","resolve","import","meta","url","toString","$a47ea20d57e5ad83$export$7ad7812518320979","data","_id","book_image","title","author","$parcel$interopDefault","$c8907729a4678d7b$export$c2a58a501338b2e1","arrayOfWords","split","lastWord","length","allExceptLastWord","slice","categoryTitle","innerHTML","$60ef4d41cb293cd8$export$9cecf6f1a0ab4aae","$43IiB","startLoading","books","getTopBooks","booksHandler","e","$dbSHG","renderError","removeLoading","$813167fa71076b27$export$2a861dfecfa80adf","category","document","querySelector","classList","remove","querySelectorAll","forEach","item","dataset","add","$2e784b583552495e$var$createCategoryBooks","event","target","nodeName","categoryList","getBooksOfCertainCategory","$h0oKa","scrollToTop","$2ix2C","$3fd25f8eea5fea48$export$5d0043c506c61511","evt","btnsHolder","action","addToShopList","ariaLabel","textContent","rmvFrmShopList","$d3ce80df30ac7071$export$c152e4c60b9b5c64","contains","$4da17662a5abc6fe$export$de8e1b1372cdb41b","code","backdrop","body","removeEventListener","$f93e0c0474fbfd59$export$3f6fecd573f3fa48","$4da17662a5abc6fe$export$e0618624f003904b","$f93e0c0474fbfd59$export$2cfb0a659ba8e8e5","$c3f515bd246656de$export$31012cc6d4f05b49","currentTarget","$c3f515bd246656de$export$884eececdc8b3150","closeBtn","btnShop","disabled","$ab9e99198f619de0$export$2662f7037d25dd84","currentModal","$f93e0c0474fbfd59$export$ebb27468326d94ab","closest","$ab9e99198f619de0$var$openModal","$ab9e99198f619de0$var$openLoginModal","currentModalData","login","signUpModal","signInModal","newModal","elmsNonAuth","btns","$41f4bfe0f5168ce2$exports","$ad4e862137e2a2d7$exports","$532cf66844964a16$exports","$b7ffd3fb80759c1c$export$69bf191433722f78","description","amazon_product_url","buy_links","appleURL","filter","obj","name","bookShop","$e27edc6dc33d0133$exports","$2346077249fa7fcd$export$393c9909a77244fb","id","LoaderBackdropStart","dataBook","getOneBookById","userCurrent","booksInShopList","getBksFrmShpLst","includes","bookId","book"],"version":3,"file":"index.a5d0196a.js.map"}